[gd_scene load_steps=36 format=3 uid="uid://dy86kt7g6by3b"]

[ext_resource type="Script" path="res://scripts/combat.gd" id="1_c56gx"]
[ext_resource type="Texture2D" uid="uid://cjqqe3ao0o85c" path="res://assets/sprite/combat-intro.png" id="2_y280b"]
[ext_resource type="Texture2D" uid="uid://dbmwaopde4i" path="res://assets/sprite/fight-button-white.png" id="3_eji1r"]
[ext_resource type="FontFile" uid="uid://b1mmfncgmrje8" path="res://assets/misc/Extrude.ttf" id="3_kt7ca"]
[ext_resource type="Texture2D" uid="uid://3t684epub027" path="res://assets/sprite/item-button.png" id="4_3f4ra"]
[ext_resource type="Texture2D" uid="uid://w80lcnvmhd25" path="res://assets/sprite/fight-button-yellow.png" id="4_d0ttf"]
[ext_resource type="Texture2D" uid="uid://spiuriksbsst" path="res://assets/sprite/health-bar.png" id="6_1r5a4"]
[ext_resource type="Texture2D" uid="uid://crkocduhrpi3k" path="res://assets/sprite/item-button-yellow.png" id="7_geuww"]

[sub_resource type="AtlasTexture" id="AtlasTexture_jn3hu"]
atlas = ExtResource("2_y280b")
region = Rect2(6400, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_1o0ly"]
atlas = ExtResource("2_y280b")
region = Rect2(0, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_tn26y"]
atlas = ExtResource("2_y280b")
region = Rect2(320, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_pt6na"]
atlas = ExtResource("2_y280b")
region = Rect2(640, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_2axdp"]
atlas = ExtResource("2_y280b")
region = Rect2(960, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_lkjed"]
atlas = ExtResource("2_y280b")
region = Rect2(1280, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_3fe1c"]
atlas = ExtResource("2_y280b")
region = Rect2(1600, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_liddn"]
atlas = ExtResource("2_y280b")
region = Rect2(1920, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_joa2g"]
atlas = ExtResource("2_y280b")
region = Rect2(2240, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_60s8t"]
atlas = ExtResource("2_y280b")
region = Rect2(2560, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_jirjn"]
atlas = ExtResource("2_y280b")
region = Rect2(2880, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_2lfsn"]
atlas = ExtResource("2_y280b")
region = Rect2(3200, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_ulvl0"]
atlas = ExtResource("2_y280b")
region = Rect2(3520, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_gs5js"]
atlas = ExtResource("2_y280b")
region = Rect2(3840, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_rnsy7"]
atlas = ExtResource("2_y280b")
region = Rect2(4160, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_mu5rf"]
atlas = ExtResource("2_y280b")
region = Rect2(4480, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_tvcqg"]
atlas = ExtResource("2_y280b")
region = Rect2(4800, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_v4sat"]
atlas = ExtResource("2_y280b")
region = Rect2(5120, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_q0svh"]
atlas = ExtResource("2_y280b")
region = Rect2(5440, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_0bj1a"]
atlas = ExtResource("2_y280b")
region = Rect2(5760, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_nfpqk"]
atlas = ExtResource("2_y280b")
region = Rect2(6080, 0, 320, 180)

[sub_resource type="SpriteFrames" id="SpriteFrames_udmax"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_jn3hu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1o0ly")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tn26y")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pt6na")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2axdp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lkjed")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3fe1c")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_liddn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_joa2g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_60s8t")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jirjn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2lfsn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ulvl0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gs5js")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rnsy7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mu5rf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tvcqg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_v4sat")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_q0svh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0bj1a")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nfpqk")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_ihitl"]
normal = Vector2(0, 1)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_1hp1k"]
normal = Vector2(-1, 0)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_dsm63"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_kctl7"]
normal = Vector2(1, 0)

[sub_resource type="Theme" id="Theme_8j7k3"]

[node name="CombatMain" type="Node2D"]
script = ExtResource("1_c56gx")

[node name="MiniGameContent" type="Node2D" parent="."]
visible = false

[node name="CombatBackground" type="AnimatedSprite2D" parent="MiniGameContent"]
position = Vector2(161, 80)
sprite_frames = SubResource("SpriteFrames_udmax")

[node name="CombatTurnContent" type="Node2D" parent="."]

[node name="FightButton" type="TextureButton" parent="CombatTurnContent"]
offset_left = 33.0
offset_top = 140.0
offset_right = 97.0
offset_bottom = 172.0
focus_neighbor_right = NodePath("../ItemButton")
texture_normal = ExtResource("3_eji1r")
texture_focused = ExtResource("4_d0ttf")

[node name="ItemButton" type="TextureButton" parent="CombatTurnContent"]
offset_left = 216.0
offset_top = 140.0
offset_right = 288.0
offset_bottom = 180.0
focus_neighbor_left = NodePath("../FightButton")
texture_normal = ExtResource("4_3f4ra")
texture_focused = ExtResource("7_geuww")

[node name="Walls" type="StaticBody2D" parent="."]
position = Vector2(1, -10)
collision_layer = 8
collision_mask = 9

[node name="TopWall" type="CollisionShape2D" parent="Walls"]
position = Vector2(159, 99)
shape = SubResource("WorldBoundaryShape2D_ihitl")

[node name="RightWall" type="CollisionShape2D" parent="Walls"]
position = Vector2(252, 134)
shape = SubResource("WorldBoundaryShape2D_1hp1k")

[node name="BottomWall" type="CollisionShape2D" parent="Walls"]
position = Vector2(158, 163)
shape = SubResource("WorldBoundaryShape2D_dsm63")

[node name="LeftWall" type="CollisionShape2D" parent="Walls"]
position = Vector2(68, 129)
shape = SubResource("WorldBoundaryShape2D_kctl7")

[node name="DynamicUI" type="CanvasLayer" parent="."]

[node name="Multiplier" type="Label" parent="DynamicUI" groups=["ui_multiplier"]]
offset_left = 67.0
offset_top = 67.0
offset_right = 111.0
offset_bottom = 86.0
theme = SubResource("Theme_8j7k3")
theme_override_fonts/font = ExtResource("3_kt7ca")
text = "1.54 X"

[node name="PlayerHealth" type="TextureProgressBar" parent="DynamicUI" groups=["player_health"]]
offset_left = 110.0
offset_top = 160.0
offset_right = 210.0
offset_bottom = 176.0
value = 100.0
texture_progress = ExtResource("6_1r5a4")

[node name="EnemyHealth" type="TextureProgressBar" parent="DynamicUI" groups=["enemy_health"]]
offset_left = 106.0
offset_top = 1.0
offset_right = 206.0
offset_bottom = 17.0
value = 100.0
texture_progress = ExtResource("6_1r5a4")

[connection signal="pressed" from="CombatTurnContent/FightButton" to="." method="_on_fight_button_pressed"]
